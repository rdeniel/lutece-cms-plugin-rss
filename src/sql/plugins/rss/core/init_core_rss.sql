--
-- Dumping data for table core_admin_right
--
INSERT INTO core_admin_right (id_right,name,level_right,admin_url,description,is_updatable,plugin_name,id_feature_group,icon_url,documentation_url) VALUES 
 ('RSS_MANAGEMENT','rss.adminFeature.rss_management.name',2,'jsp/admin/plugins/rss/ManageRssFiles.jsp','rss.adminFeature.rss_management.description',0,'rss','APPLICATIONS',NULL, NULL);
INSERT INTO core_admin_right (id_right,name,level_right,admin_url,description,is_updatable,plugin_name,id_feature_group,icon_url,documentation_url) VALUES 
 ('RSS_FEEDS_MANAGEMENT','rss.adminFeature.rss_feeds_management.name',2,'jsp/admin/plugins/rss/ManageRssFeeds.jsp','rss.adminFeature.rss_feeds_management.description',0,'rss','APPLICATIONS',NULL, NULL);


--
-- Dumping data for table core_portlet_type
--
INSERT INTO core_portlet_type (id_portlet_type,name,url_creation,url_update,home_class,plugin_name,url_docreate,create_script,create_specific,create_specific_form,url_domodify,modify_script,modify_specific,modify_specific_form) VALUES 
 ('RSS_PORTLET','rss.portlet.name','plugins/rss/CreatePortletRss.jsp','plugins/rss/ModifyPortletRss.jsp','fr.paris.lutece.plugins.rss.business.portlet.RssPortletHome','rss','plugins/rss/DoCreatePortletRss.jsp','/admin/portlet/script_create_portlet.html','/admin/plugins/rss/portlet/create_portlet_rss.html','','plugins/rss/DoModifyPortletRss.jsp','/admin/portlet/script_modify_portlet.html','/admin/plugins/rss/portlet/modify_portlet_rss.html','');
INSERT INTO core_portlet_type (id_portlet_type,name,url_creation,url_update,home_class,plugin_name,url_docreate,create_script,create_specific,create_specific_form,url_domodify,modify_script,modify_specific,modify_specific_form) VALUES 
 ('RSS_LIST_PORTLET','rss.list.portlet.name','plugins/rss/CreatePortletRssList.jsp','plugins/rss/ModifyPortletRssList.jsp','fr.paris.lutece.plugins.rss.business.portlet.RssListPortletHome','rss','plugins/rss/DoCreatePortletRssList.jsp','/admin/portlet/script_create_portlet.html','','','plugins/rss/DoModifyPortletRssList.jsp','/admin/portlet/script_modify_portlet.html','','');

--
-- Dumping data for table core_style
--
INSERT INTO core_style (id_style,description_style,id_portlet_type,id_portal_component) VALUES (400,'Defaut','RSS_PORTLET',0);
INSERT INTO core_style (id_style,description_style,id_portlet_type,id_portal_component) VALUES (401,'Defaut','RSS_LIST_PORTLET',0);


--
-- Dumping data for table core_style_mode_stylesheet
--
INSERT INTO core_style_mode_stylesheet (id_style,id_mode,id_stylesheet) VALUES (400,0,308);
INSERT INTO core_style_mode_stylesheet (id_style,id_mode,id_stylesheet) VALUES (401,0,9002);


--
-- Dumping data for table core_stylesheet
--

INSERT INTO core_stylesheet (id_stylesheet, description, file_name, source) VALUES (308,'Rubrique RSS - Defaut','portlet_rss.xsl','<?xml version=\"1.0\" ?>\r\n\r\n<!--\r\nAuthor:  Kevin A Burton (burton@apache.org)\r\nAuthor:  Santiago Gala (sgala@hisitech.com)\r\nAuthor:  Raphaïel Luta (raphael@apache.org)\r\n-->\r\n\r\n<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\r\n                xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n                xmlns:downlevel=\"http://my.netscape.com/rdf/simple/0.9/\"\r\n                exclude-result-prefixes=\"downlevel rdf\"\r\n                version=\"1.0\">\r\n\r\n    <xsl:output indent=\"yes\"\r\n                 method=\"html\"\r\n                 omit-xml-declaration=\"yes\"/>\r\n\r\n    <xsl:param name=\"itemdisplayed\" select=\"number(15)\"/>\r\n    <xsl:param name=\"showdescription\" select=\"\'true\'\"/>\r\n    <xsl:param name=\"showtitle\" select=\"\'true\'\"/>\r\n\r\n<xsl:template match=\"portlet\">\r\n	\r\n		\r\n	<xsl:variable name=\"device_class\">\r\n	<xsl:choose>\r\n		<xsl:when test=\"string(display-on-small-device)=\'0\'\">hide-for-small</xsl:when>\r\n		<xsl:otherwise></xsl:otherwise>\r\n	</xsl:choose>\r\n	</xsl:variable>\r\n\r\n	<div class=\"portlet {$device_class} append-bottom -lutece-border-radius\">\r\n\r\n        <xsl:if test=\"not(string(display-portlet-title)=\'1\')\">\r\n			<h3 class=\"portlet-header\">\r\n				<xsl:value-of disable-output-escaping=\"no\" select=\"portlet-name\" />\r\n			</h3>\r\n			<br />\r\n        </xsl:if>\r\n\r\n		<div class=\"portlet-content\">\r\n		    <xsl:choose>\r\n		    <xsl:when test=\"not(rss)\">\r\n			    <xsl:text disable-output-escaping=\"yes\"><![CDATA[&nbsp;]]></xsl:text>\r\n			</xsl:when>\r\n			<xsl:otherwise>\r\n			    <xsl:apply-templates select=\"rss\" />\r\n			</xsl:otherwise>\r\n			</xsl:choose>\r\n		</div>\r\n	</div>\r\n</xsl:template>\r\n\r\n\r\n    <xsl:template match=\"rss\">\r\n      <div>\r\n        <xsl:apply-templates select=\"channel\"/>\r\n        <xsl:apply-templates select=\"textinput\"/>\r\n      </div>\r\n    </xsl:template>\r\n\r\n    <xsl:template match=\"/rdf:RDF\">\r\n      <div>\r\n        <xsl:apply-templates select=\"downlevel:channel\"/>\r\n        <xsl:apply-templates select=\"downlevel:textinput\"/>\r\n      </div>\r\n    </xsl:template>\r\n\r\n    <xsl:template match=\"channel\">\r\n      <h2><xsl:value-of disable-output-escaping=\"yes\" select=\"title\"/></h2>\r\n      <xsl:variable name=\"description\" select=\"description\"/>\r\n      <xsl:if test=\"$showtitle = \'true\' and $description\">\r\n        <p>\r\n          <xsl:apply-templates select=\"image|../image\" mode=\"channel\"/>\r\n          <strong><xsl:value-of disable-output-escaping=\"yes\" select=\"$description\"/></strong>\r\n        </p>\r\n      </xsl:if>\r\n      <ul>\r\n        <xsl:apply-templates select=\"item[$itemdisplayed>=position()]\"/>\r\n      </ul>\r\n    </xsl:template>\r\n\r\n    <xsl:template match=\"downlevel:channel\">\r\n      <xsl:variable name=\"description\" select=\"downlevel:description\"/>\r\n      <xsl:if test=\"$showtitle = \'true\' and $description\">\r\n        <p>\r\n        <xsl:choose>\r\n         <xsl:when test=\"count(../downlevel:image)\">\r\n          <xsl:apply-templates select=\"../downlevel:image\" mode=\"channel\"/>\r\n          <xsl:value-of select=\"$description\"/>\r\n         </xsl:when>\r\n         <xsl:otherwise>\r\n          <a href=\"{downlevel:link}\">\r\n            <xsl:value-of disable-output-escaping=\"yes\" select=\"$description\"/></a>\r\n         </xsl:otherwise>\r\n        </xsl:choose>\r\n        </p>\r\n      </xsl:if>\r\n      <ul>\r\n        <xsl:apply-templates select=\"../downlevel:item[$itemdisplayed>=position()]\"/>\r\n      </ul>\r\n    </xsl:template>\r\n\r\n    <xsl:template match=\"item\">\r\n      <xsl:variable name=\"description\" select=\"description\"/>\r\n      <li>\r\n        <blockquote>\r\n        <a href=\"{link}\"><xsl:value-of select=\"title\"/></a>\r\n        <xsl:if test=\"$showdescription = \'true\' and $description\">\r\n          <br/><xsl:value-of disable-output-escaping=\"yes\" select=\"substring($description,0,400)\"/>\r\n          <xsl:text>...</xsl:text>\r\n          <p align=\"right\"><a href=\"{link}\" target=\"_blank\"><xsl:text>Lire la suite ></xsl:text></a></p>\r\n        </xsl:if>\r\n        </blockquote>\r\n      </li>\r\n    </xsl:template>\r\n\r\n    <xsl:template match=\"downlevel:item\">\r\n      <xsl:variable name=\"description\" select=\"downlevel:description\"/>\r\n      <li>\r\n        <a href=\"{downlevel:link}\"><xsl:value-of select=\"downlevel:title\"/></a>\r\n        <xsl:if test=\"$showdescription = \'true\' and $description\">\r\n          <br/><xsl:value-of disable-output-escaping=\"yes\" select=\"$description\"/>\r\n        </xsl:if>\r\n      </li>\r\n    </xsl:template>\r\n\r\n    <xsl:template match=\"textinput\">\r\n      <form action=\"{link}\">\r\n        <xsl:value-of select=\"description\"/><br/>\r\n        <input type=\"text\" name=\"{name}\" value=\"\"/>\r\n        <input type=\"submit\" name=\"submit\" value=\"{title}\"/>\r\n      </form>\r\n    </xsl:template>\r\n\r\n    <xsl:template match=\"downlevel:textinput\">\r\n      <form action=\"{downlevel:link}\">\r\n        <xsl:value-of select=\"downlevel:description\"/><br/>\r\n        <input type=\"text\" name=\"{downlevel:name}\" value=\"\"/>\r\n        <input type=\"submit\" name=\"submit\" value=\"{downlevel:title}\"/>\r\n      </form>\r\n    </xsl:template>\r\n\r\n    <xsl:template match=\"image\" mode=\"channel\">\r\n      <a href=\"{link}\">\r\n        <xsl:element name=\"img\">\r\n          <xsl:attribute name=\"align\">right</xsl:attribute>\r\n          <xsl:attribute name=\"border\">0</xsl:attribute>\r\n          <xsl:if test=\"title\">\r\n            <xsl:attribute name=\"alt\">\r\n              <xsl:value-of select=\"title\"/>\r\n            </xsl:attribute>\r\n          </xsl:if>\r\n          <xsl:if test=\"url\">\r\n            <xsl:attribute name=\"src\">\r\n              <xsl:value-of select=\"url\"/>\r\n            </xsl:attribute>\r\n          </xsl:if>\r\n          <xsl:if test=\"width\">\r\n            <xsl:attribute name=\"width\">\r\n              <xsl:value-of select=\"width\"/>\r\n            </xsl:attribute>\r\n          </xsl:if>\r\n          <xsl:if test=\"height\">\r\n            <xsl:attribute name=\"height\">\r\n              <xsl:value-of select=\"height\"/>\r\n            </xsl:attribute>\r\n          </xsl:if>\r\n        </xsl:element>\r\n      </a>\r\n    </xsl:template>\r\n\r\n    <xsl:template match=\"downlevel:image\" mode=\"channel\">\r\n      <a href=\"{downlevel:link}\">\r\n        <xsl:element name=\"img\">\r\n          <xsl:attribute name=\"align\">right</xsl:attribute>\r\n          <xsl:attribute name=\"border\">0</xsl:attribute>\r\n          <xsl:if test=\"downlevel:title\">\r\n            <xsl:attribute name=\"alt\">\r\n              <xsl:value-of select=\"downlevel:title\"/>\r\n            </xsl:attribute>\r\n          </xsl:if>\r\n          <xsl:if test=\"downlevel:url\">\r\n            <xsl:attribute name=\"src\">\r\n              <xsl:value-of select=\"downlevel:url\"/>\r\n            </xsl:attribute>\r\n          </xsl:if>\r\n        </xsl:element>\r\n      </a>\r\n    </xsl:template>\r\n\r\n    <!-- We ignore images unless we are inside a channel -->\r\n    <xsl:template match=\"image\">\r\n    </xsl:template>\r\n    <xsl:template match=\"downlevel:image\">\r\n    </xsl:template>\r\n\r\n</xsl:stylesheet>\r\n\r\n\r\n\r\n');
INSERT INTO core_stylesheet (id_stylesheet, description, file_name, source) VALUES (9002,'Rubrique Liste RSS','portlet_rss_list.xsl','<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\r\n\r\n	<xsl:template match=\"portlet\">\r\n	\r\n		\r\n	<xsl:variable name=\"device_class\">\r\n	<xsl:choose>\r\n		<xsl:when test=\"string(display-on-small-device)=\'0\'\">hide-for-small</xsl:when>\r\n		<xsl:otherwise></xsl:otherwise>\r\n	</xsl:choose>\r\n	</xsl:variable>\r\n\r\n	<div class=\"portlet {$device_class} append-bottom\">\r\n		<xsl:choose>\r\n			<xsl:when test=\"not(string(display-portlet-title)=\'1\')\">\r\n				<div class=\"portlet-header -lutece-border-radius-top\">\r\n					<xsl:value-of disable-output-escaping=\"yes\" select=\"portlet-name\" />\r\n				</div>\r\n				<div class=\"portlet-content -lutece-border-radius-bottom\">\r\n					<xsl:apply-templates select=\"rss-list-portlet\" />\r\n				</div>\r\n			</xsl:when>\r\n			<xsl:otherwise>\r\n				<div class=\"portlet-content -lutece-border-radius\">\r\n					<xsl:apply-templates select=\"rss-list-portlet\" />\r\n				</div>\r\n			</xsl:otherwise>\r\n		</xsl:choose>\r\n		</div>\r\n	</xsl:template>\r\n	\r\n	<xsl:template match=\"rss-list-portlet\">\r\n		<xsl:variable name=\"url\">\r\n			<xsl:value-of select=\"rss-list-portlet-url\" />\r\n		</xsl:variable>\r\n		<li>\r\n			<div>\r\n				<a href=\"{$url}\"><xsl:value-of select=\"rss-list-portlet-name\" /></a> \r\n			</div>\r\n			<div>\r\n				 <xsl:value-of select=\"rss-list-portlet-url\" />\r\n			</div>\r\n		</li>\r\n	</xsl:template>\r\n\r\n</xsl:stylesheet>');

--
-- Dumping data for table core_user_right
--
INSERT INTO core_user_right (id_right,id_user) VALUES ('RSS_FEEDS_MANAGEMENT',2);
INSERT INTO core_user_right (id_right,id_user) VALUES ('RSS_FEEDS_MANAGEMENT',6);
INSERT INTO core_user_right (id_right,id_user) VALUES ('RSS_MANAGEMENT',2);
INSERT INTO core_user_right (id_right,id_user) VALUES ('RSS_MANAGEMENT',6);

--
-- Dumping data for table core_style
--
INSERT INTO core_style (id_style,description_style,id_portlet_type,id_portal_component) VALUES (401,'Défaut','RSS_LIST_PORTLET',0); 

--
-- Dumping data for table core_style_mode_stylesheet
--
INSERT INTO core_style_mode_stylesheet (id_style,id_mode,id_stylesheet) VALUES (401,0,9002);

--
-- Dumping data for table core_stylesheet
--
INSERT INTO core_stylesheet (id_stylesheet,description,file_name,source) VALUES (9002,'Rubrique Liste RSS','portlet_rss_list.xsl',0x3C3F786D6C2076657273696F6E3D22312E30223F3E0D0A3C78736C3A7374796C6573686565742076657273696F6E3D22312E302220786D6C6E733A78736C3D22687474703A2F2F7777772E77332E6F72672F313939392F58534C2F5472616E73666F726D223E0D0A0D0A093C78736C3A74656D706C617465206D617463683D22706F72746C6574223E0D0A09093C64697620636C6173733D22706F72746C657420617070656E642D626F74746F6D223E0D0A09093C78736C3A63686F6F73653E0D0A0909093C78736C3A7768656E20746573743D226E6F7428737472696E6728646973706C61792D706F72746C65742D7469746C65293D27312729223E0D0A090909093C64697620636C6173733D22706F72746C65742D686561646572202D6C75746563652D626F726465722D7261646975732D746F70223E0D0A09090909093C78736C3A76616C75652D6F662064697361626C652D6F75747075742D6573636170696E673D22796573222073656C6563743D22706F72746C65742D6E616D6522202F3E0D0A090909093C2F6469763E0D0A090909093C64697620636C6173733D22706F72746C65742D636F6E74656E74202D6C75746563652D626F726465722D7261646975732D626F74746F6D223E0D0A09090909093C78736C3A6170706C792D74656D706C617465732073656C6563743D227273732D6C6973742D706F72746C657422202F3E0D0A090909093C2F6469763E0D0A0909093C2F78736C3A7768656E3E0D0A0909093C78736C3A6F74686572776973653E0D0A090909093C64697620636C6173733D22706F72746C65742D636F6E74656E74202D6C75746563652D626F726465722D726164697573223E0D0A09090909093C78736C3A6170706C792D74656D706C617465732073656C6563743D227273732D6C6973742D706F72746C657422202F3E0D0A090909093C2F6469763E0D0A0909093C2F78736C3A6F74686572776973653E0D0A09093C2F78736C3A63686F6F73653E0D0A09093C2F6469763E0D0A093C2F78736C3A74656D706C6174653E0D0A090D0A093C78736C3A74656D706C617465206D617463683D227273732D6C6973742D706F72746C6574223E0D0A09093C78736C3A7661726961626C65206E616D653D2275726C223E0D0A0909093C78736C3A76616C75652D6F662073656C6563743D227273732D6C6973742D706F72746C65742D75726C22202F3E0D0A09093C2F78736C3A7661726961626C653E0D0A09093C6C693E0D0A0909093C6469763E0D0A090909093C6120687265663D227B2475726C7D223E3C78736C3A76616C75652D6F662073656C6563743D227273732D6C6973742D706F72746C65742D6E616D6522202F3E3C2F613E200D0A0909093C2F6469763E0D0A0909093C6469763E0D0A09090909203C78736C3A76616C75652D6F662073656C6563743D227273732D6C6973742D706F72746C65742D75726C22202F3E0D0A0909093C2F6469763E0D0A09093C2F6C693E0D0A093C2F78736C3A74656D706C6174653E0D0A0D0A3C2F78736C3A7374796C6573686565743E);
